
在这个示例中，producer 函数负责生成数据并将其放入缓冲区，consumer 函数负责从缓冲区中取出数据并进行处理。缓冲区使用一个简单的数组来存储数据，count 变量用于跟踪当前缓冲区中的元素数量。互斥锁 mutex 和条件变量 full、empty 用于实现生产者和消费者之间的同步。

在 producer 函数中，当缓冲区已满时，生产者线程将等待条件变量 full 的信号；当缓冲区未满时，生产者线程将生成数据并放入缓冲区，然后发送信号给条件变量 empty。在 consumer 函数中，当缓冲区为空时，消费者线程将等待条件变量 empty 的信号；当缓冲区非空时，消费者线程将取出数据并处理，然后发送信号给条件变量 full。

在 main 函数中，创建了生产者和消费者线程，并使用 pthread_join 函数等待它们执行完毕。

